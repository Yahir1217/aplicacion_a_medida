<div class="container mt-4" *ngIf="!loading; else cargando">
    <div class="row">
      <div class="col-md-6 mb-4" *ngFor="let negocio of negocios"
      >
        <div class="card p-4 shadow-sm h-100">
          <div class="d-flex align-items-center mb-3">
            <img *ngIf="negocio?.logo_url; else sinLogo"
                 [src]="negocio.logo_url"
                 alt="Logo negocio"
                 class="rounded-circle me-3"
                 style="width: 60px; height: 60px; object-fit: cover;" />
            <ng-template #sinLogo>
              <div class="rounded-circle bg-secondary text-white d-flex justify-content-center align-items-center me-3"
                   style="width: 60px; height: 60px;">
                {{ negocio?.nombre ? negocio.nombre[0] : '?' }}
              </div>
            </ng-template>
            <h4 class="mb-0">{{ negocio?.nombre || 'Sin nombre' }}</h4>
          </div>
  
          <ul class="list-group mb-3">
            <li class="list-group-item"><strong>Estado:</strong> {{ negocio?.estado || 'No definido' }}</li>
            <li class="list-group-item"><strong>Fecha de pago:</strong> {{ negocio?.fecha_pago || 'Sin pagar' }}</li>
            <li class="list-group-item"><strong>Fecha de vencimiento:</strong> {{ negocio?.fecha_vencimiento || '-' }}</li>
          </ul>
  
          <!-- Botones de acciÃ³n -->
          <div class="d-flex gap-2">
            <a
              [routerLink]="['/negocio', negocio.id]"
              class="btn btn-outline-primary w-50"
              title="Ver perfil del negocio"
            >
              <i class="ri-eye-line me-1"></i> Ver perfil
            </a>
  
            <a
                  [routerLink]="['/negocio', negocio.id, 'productos']"  
              class="btn btn-outline-secondary w-50"
              title="Ver productos del negocio"
            >
              <i class="ri-store-2-line me-1"></i> Ver productos
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <ng-template #cargando>
    <div class="text-center py-5">
      <div class="spinner-border text-primary" role="status"></div>
      <p class="mt-3">Cargando negocios...</p>
    </div>
  </ng-template>
  